=== Background ===
Most drives have 512-byte sectors. AFD drives have 4096-byte sectors. They have a backwards compatibility "emulation" mode where it can lie and appear as though it has 512-byte sectors, but the translation is slow. This page exists to make sure you are using the AFD drives properly in Linux in non-legacy mode.

=== Linux Installers ===
Most modern linux installers will align things properly for you. Check with:
 fdisk -u -l 

If the first partition starts on sector 63, it is '''not''' aligned.

=== Partitions ===
Fdisk in sector mode can allow you to start the partition at sector 2048 instead of 63.

[[parted]] will warn you if whatever you are doing is not aligned. It aligns for you most of the time.

=== LVM ===
 pvcreate --dataalignment 4k
Then use:
 pvs -o +pe_start
To be sure that the start of the pe is on a multiple of 4k. (should if your partition below is aligned)

=== mdadm (software raid) ===
Modern mdadm versions (1.1+) force their superblock to be on a 4k boundary. If your partitions are aligned below, should be fine. Also consider [[Mdadm Tuning]].

=== ext4 ===
Modern ext filesystems should have a 4k block size. Check with:
 tune2fs /dev/sda1 -l | grep "Block size"

Should be ok if the partition is aligned below. Also affected by [[raid]] strips. See [[Mdadm Tuning]]

=== ZFS ===
[[ZFS]] requires you to explicity state the sector size when you create a new zpool. 
 zpool create -o ashift=12 tank mirror sda sdb
The "12" means 2^12=4096. See: http://zfsonlinux.org/faq.html#HowDoesZFSonLinuxHandlesAdvacedFormatDrives

=== References ===
* http://en.wikipedia.org/wiki/Advanced_Format
* http://timelordz.com/wiki/Advanced_Format_Hard_Drives

[[Category:Partitions]][[Category:Drives]][[Category:ZFS]]